import{c as u}from"./classnames-DumVvcsb.js";import{r as n,R as ne,j as i}from"./react-DBNuGw78.js";import{t as ie,s as k,d as Fe,q as y,r as _e,e as oe,f as $e,c as He,o as Ue,g as re}from"./dom-helpers-BsN-Z0DW.js";import{u as de,g as We,M as Ge,a as H,b as Ke,c as ze,B as Ve}from"./@restart-Bg-jFOy2.js";import{T as Xe,E as Ye,a as qe}from"./react-transition-group-sVPNZyzB.js";import{R as Je}from"./react-dom-Ds_nYTRh.js";import{P as _}from"./prop-types-ADYMeEvB.js";const Qe=["xxl","xl","lg","md","sm","xs"],Ze="xs",U=n.createContext({prefixes:{},breakpoints:Qe,minBreakpoint:Ze}),{Consumer:Ct,Provider:Tt}=U;function w(e,t){const{prefixes:a}=n.useContext(U);return e||a[t]||t}function Pe(){const{dir:e}=n.useContext(U);return e==="rtl"}function le(e,t){const a=k(e,t)||"",s=a.indexOf("ms")===-1?1e3:1;return parseFloat(a)*s}function et(e,t){const a=le(e,"transitionDuration"),s=le(e,"transitionDelay"),o=ie(e,l=>{l.target===e&&(o(),t(l))},a+s)}function tt(e){e.offsetHeight}function at(e){return e&&"setState"in e?Je.findDOMNode(e):e??null}const st=ne.forwardRef(({onEnter:e,onEntering:t,onEntered:a,onExit:s,onExiting:o,onExited:l,addEndListener:f,children:c,childRef:d,...g},R)=>{const h=n.useRef(null),E=de(h,d),N=p=>{E(at(p))},m=p=>x=>{p&&h.current&&p(h.current,x)},v=n.useCallback(m(e),[e]),B=n.useCallback(m(t),[t]),C=n.useCallback(m(a),[a]),j=n.useCallback(m(s),[s]),A=n.useCallback(m(o),[o]),b=n.useCallback(m(l),[l]),O=n.useCallback(m(f),[f]);return i.jsx(Xe,{ref:R,...g,onEnter:v,onEntered:C,onEntering:B,onExit:j,onExited:b,onExiting:A,addEndListener:O,nodeRef:h,children:typeof c=="function"?(p,x)=>c(p,{...x,ref:N}):ne.cloneElement(c,{ref:N})})}),nt=e=>n.forwardRef((t,a)=>i.jsx("div",{...t,ref:a,className:u(t.className,e)})),ot={[qe]:"show",[Ye]:"show"},W=n.forwardRef(({className:e,children:t,transitionClasses:a={},onEnter:s,...o},l)=>{const f={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...o},c=n.useCallback((d,g)=>{tt(d),s==null||s(d,g)},[s]);return i.jsx(st,{ref:l,addEndListener:et,...f,onEnter:c,childRef:We(t),children:(d,g)=>n.cloneElement(t,{...g,className:u("fade",e,t.props.className,ot[d],a[d])})})});W.displayName="Fade";const rt={"aria-label":_.string,onClick:_.func,variant:_.oneOf(["white"])},G=n.forwardRef(({className:e,variant:t,"aria-label":a="Close",...s},o)=>i.jsx("button",{ref:o,type:"button",className:u("btn-close",t&&`btn-close-${t}`,e),"aria-label":a,...s}));G.displayName="CloseButton";G.propTypes=rt;const M={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class lt extends Ge{adjustAndStore(t,a,s){const o=a.style[t];a.dataset[t]=o,k(a,{[t]:`${parseFloat(k(a,t))+s}px`})}restore(t,a){const s=a.dataset[t];s!==void 0&&(delete a.dataset[t],k(a,{[t]:s}))}setContainerStyle(t){super.setContainerStyle(t);const a=this.getElement();if(Fe(a,"modal-open"),!t.scrollBarWidth)return;const s=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";y(a,M.FIXED_CONTENT).forEach(l=>this.adjustAndStore(s,l,t.scrollBarWidth)),y(a,M.STICKY_CONTENT).forEach(l=>this.adjustAndStore(o,l,-t.scrollBarWidth)),y(a,M.NAVBAR_TOGGLER).forEach(l=>this.adjustAndStore(o,l,t.scrollBarWidth))}removeContainerStyle(t){super.removeContainerStyle(t);const a=this.getElement();_e(a,"modal-open");const s=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";y(a,M.FIXED_CONTENT).forEach(l=>this.restore(s,l)),y(a,M.STICKY_CONTENT).forEach(l=>this.restore(o,l)),y(a,M.NAVBAR_TOGGLER).forEach(l=>this.restore(o,l))}}let $;function it(e){return $||($=new lt(e)),$}const ce=n.forwardRef(({className:e,bsPrefix:t,as:a="div",...s},o)=>(t=w(t,"modal-body"),i.jsx(a,{ref:o,className:u(e,t),...s})));ce.displayName="ModalBody";const ue=n.createContext({onHide(){}}),K=n.forwardRef(({bsPrefix:e,className:t,contentClassName:a,centered:s,size:o,fullscreen:l,children:f,scrollable:c,...d},g)=>{e=w(e,"modal");const R=`${e}-dialog`,h=typeof l=="string"?`${e}-fullscreen-${l}`:`${e}-fullscreen`;return i.jsx("div",{...d,ref:g,className:u(R,t,o&&`${e}-${o}`,s&&`${R}-centered`,c&&`${R}-scrollable`,l&&h),children:i.jsx("div",{className:u(`${e}-content`,a),children:f})})});K.displayName="ModalDialog";const fe=n.forwardRef(({className:e,bsPrefix:t,as:a="div",...s},o)=>(t=w(t,"modal-footer"),i.jsx(a,{ref:o,className:u(e,t),...s})));fe.displayName="ModalFooter";const dt=n.forwardRef(({closeLabel:e="Close",closeVariant:t,closeButton:a=!1,onHide:s,children:o,...l},f)=>{const c=n.useContext(ue),d=H(()=>{c==null||c.onHide(),s==null||s()});return i.jsxs("div",{ref:f,...l,children:[o,a&&i.jsx(G,{"aria-label":e,variant:t,onClick:d})]})}),ge=n.forwardRef(({bsPrefix:e,className:t,closeLabel:a="Close",closeButton:s=!1,...o},l)=>(e=w(e,"modal-header"),i.jsx(dt,{ref:l,...o,className:u(t,e),closeLabel:a,closeButton:s})));ge.displayName="ModalHeader";const ct=nt("h4"),me=n.forwardRef(({className:e,bsPrefix:t,as:a=ct,...s},o)=>(t=w(t,"modal-title"),i.jsx(a,{ref:o,className:u(e,t),...s})));me.displayName="ModalTitle";function ut(e){return i.jsx(W,{...e,timeout:null})}function ft(e){return i.jsx(W,{...e,timeout:null})}const he=n.forwardRef(({bsPrefix:e,className:t,style:a,dialogClassName:s,contentClassName:o,children:l,dialogAs:f=K,"data-bs-theme":c,"aria-labelledby":d,"aria-describedby":g,"aria-label":R,show:h=!1,animation:E=!0,backdrop:N=!0,keyboard:m=!0,onEscapeKeyDown:v,onShow:B,onHide:C,container:j,autoFocus:A=!0,enforceFocus:b=!0,restoreFocus:O=!0,restoreFocusOptions:p,onEntered:x,onExit:z,onExiting:pe,onEnter:V,onEntering:X,onExited:Y,backdropClassName:q,manager:J,...Re},Ee)=>{const[Ne,Ce]=n.useState({}),[Te,Q]=n.useState(!1),L=n.useRef(!1),I=n.useRef(!1),D=n.useRef(null),[S,ye]=Ke(),Me=de(Ee,ye),Z=H(C),we=Pe();e=w(e,"modal");const xe=n.useMemo(()=>({onHide:Z}),[Z]);function P(){return J||it({isRTL:we})}function ee(r){if(!He)return;const T=P().getScrollbarWidth()>0,se=r.scrollHeight>Ue(r).documentElement.clientHeight;Ce({paddingRight:T&&!se?re():void 0,paddingLeft:!T&&se?re():void 0})}const F=H(()=>{S&&ee(S.dialog)});ze(()=>{oe(window,"resize",F),D.current==null||D.current()});const De=()=>{L.current=!0},Se=r=>{L.current&&S&&r.target===S.dialog&&(I.current=!0),L.current=!1},te=()=>{Q(!0),D.current=ie(S.dialog,()=>{Q(!1)})},ve=r=>{r.target===r.currentTarget&&te()},ke=r=>{if(N==="static"){ve(r);return}if(I.current||r.target!==r.currentTarget){I.current=!1;return}C==null||C()},Be=r=>{m?v==null||v(r):(r.preventDefault(),N==="static"&&te())},je=(r,T)=>{r&&ee(r),V==null||V(r,T)},Ae=r=>{D.current==null||D.current(),z==null||z(r)},be=(r,T)=>{X==null||X(r,T),$e(window,"resize",F)},Oe=r=>{r&&(r.style.display=""),Y==null||Y(r),oe(window,"resize",F)},Le=n.useCallback(r=>i.jsx("div",{...r,className:u(`${e}-backdrop`,q,!E&&"show")}),[E,q,e]),ae={...a,...Ne};ae.display="block";const Ie=r=>i.jsx("div",{role:"dialog",...r,style:ae,className:u(t,e,Te&&`${e}-static`,!E&&"show"),onClick:N?ke:void 0,onMouseUp:Se,"data-bs-theme":c,"aria-label":R,"aria-labelledby":d,"aria-describedby":g,children:i.jsx(f,{...Re,onMouseDown:De,className:s,contentClassName:o,children:l})});return i.jsx(ue.Provider,{value:xe,children:i.jsx(Ve,{show:h,ref:Me,backdrop:N,container:j,keyboard:!0,autoFocus:A,enforceFocus:b,restoreFocus:O,restoreFocusOptions:p,onEscapeKeyDown:Be,onShow:B,onHide:C,onEnter:je,onEntering:be,onEntered:x,onExit:Ae,onExiting:pe,onExited:Oe,manager:P(),transition:E?ut:void 0,backdropTransition:E?ft:void 0,renderBackdrop:Le,renderDialog:Ie})})});he.displayName="Modal";const yt=Object.assign(he,{Body:ce,Header:ge,Title:me,Footer:fe,Dialog:K,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150});export{yt as M};
