import{r as n,j as e,R as C}from"./react-DBNuGw78.js";import{a as _}from"./react-dom-Ds_nYTRh.js";import{S as P}from"./react-slick-6USp6AzP.js";/* empty css                       */import{a as v}from"./axios-BtuGy7By.js";import{M as w}from"./react-bootstrap-SbGuqpeW.js";/* empty css                  */import{c as A}from"./crypto-browserify-Dvc8JMIo.js";import{P as M}from"./react-bootstrap-icons-Bg0YhoDf.js";import{L as N,B as F,R as U,a as k}from"./react-router-B-X9IkBr.js";/* empty css                        */import"./asn1.js-CNcqmYN1.js";import"./bn.js-Dqs6ZoTB.js";import"./inherits-BICa84dG.js";import"./minimalistic-assert-OF9c2MWr.js";import"./scheduler-BNqrtbQi.js";import"./lodash.debounce-PHrWfaHW.js";import"./classnames-DumVvcsb.js";import"./resize-observer-polyfill-CAPkpo2j.js";import"./json2mq-DmRDQ8Ce.js";import"./string-convert-Bhuo--sE.js";import"./enquire.js-B8qsBZnP.js";import"./dom-helpers-BsN-Z0DW.js";import"./@restart-Bg-jFOy2.js";import"./react-transition-group-sVPNZyzB.js";import"./@babel-G6YR9G09.js";import"./prop-types-ADYMeEvB.js";import"./randombytes-B3an8Qiu.js";import"./safe-buffer-BaiuebXe.js";import"./create-hash-BLm9U7cx.js";import"./md5.js-CVkFwVpc.js";import"./readable-stream-BBacRc_d.js";import"./util-deprecate-Do5wlsJu.js";import"./string_decoder-CxPa3rE7.js";import"./ripemd160-C4aAcSrP.js";import"./sha.js-i5JWUhOd.js";import"./cipher-base-BS0poRdv.js";import"./create-hmac-E3TCb32w.js";import"./browserify-sign-D9ogLoGK.js";import"./process-nextick-args-hr2U_nH5.js";import"./isarray-aIBLcMhd.js";import"./core-util-is-D3ZpDi90.js";import"./browserify-rsa-jChIhXo8.js";import"./elliptic-DJKB8ZKo.js";import"./minimalistic-crypto-utils-DpWPKLSp.js";import"./brorand-DqDTrYSA.js";import"./hash.js-BBtLUDa5.js";import"./hmac-drbg-D0HEHpYb.js";import"./parse-asn1-Bz7HmeTk.js";import"./evp_bytestokey-BHfVHUFa.js";import"./browserify-aes-B6-b2iB8.js";import"./buffer-xor-B2N0t8YZ.js";import"./pbkdf2-DjVwcMdu.js";import"./browserify-cipher-DKFEcj3U.js";import"./browserify-des-C_84X-d2.js";import"./des.js--dPkMxQq.js";import"./diffie-hellman-Zu_6I6u6.js";import"./miller-rabin-C4Ve0JPD.js";import"./create-ecdh-DgyPxIk9.js";import"./public-encrypt-DncNQYT4.js";import"./randomfill-SH1npp7V.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function r(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(s){if(s.ep)return;s.ep=!0;const l=r(s);fetch(s.href,l)}})();const B=[{id:1,title:"All The Light We Cannot See",author:"Anthony Doerr",imageUrl:"https://m.media-amazon.com/images/I/81d2Gmv2zYL._SL1500_.jpg",rating:4.6},{id:2,title:"Becoming",author:"Michelle Obama",imageUrl:"https://m.media-amazon.com/images/I/71rm0H5uOaL._SL1500_.jpg",rating:4.8},{id:3,title:"Circe",author:"Madeline Miller",imageUrl:"https://m.media-amazon.com/images/I/91AnXd9k-jL._SL1500_.jpg",rating:4.4},{id:4,title:"Dune",author:"Frank Herbert",imageUrl:"https://m.media-amazon.com/images/I/71-1WBgjGoL._SL1500_.jpg",rating:4.7},{id:5,title:"Educated",author:"Tara Westover",imageUrl:"https://m.media-amazon.com/images/I/61xta2jWBBL._SL1500_.jpg",rating:4.7},{id:6,title:"Fahrenheit 451",author:"Ray Bradbury",imageUrl:"https://m.media-amazon.com/images/I/91DCLXhx2FL._SL1500_.jpg",rating:4.6},{id:7,title:"Gone Girl",author:"Gillian Flynn",imageUrl:"https://m.media-amazon.com/images/I/71XPY7U9OML._SL1500_.jpg",rating:4},{id:8,title:"Homo Deus",author:"Yuval Noah Harari",imageUrl:"https://m.media-amazon.com/images/I/81mpU5GWymL._SL1500_.jpg",rating:4.5},{id:9,title:"Invisible Man",author:"Ralph Ellison",imageUrl:"https://m.media-amazon.com/images/I/713IE+RqxbL._SL1500_.jpg",rating:4.7},{id:10,title:"Jane Eyre",author:"Charlotte Brontë",imageUrl:"https://m.media-amazon.com/images/I/912ezcwEg-L._SL1500_.jpg",rating:4.6},{id:11,title:"Kafka on the Shore",author:"Haruki Murakami",imageUrl:"https://m.media-amazon.com/images/I/A1Ii2pjpnuL._SL1500_.jpg",rating:4.5},{id:12,title:"Les Misérables",author:"Victor Hugo",imageUrl:"https://m.media-amazon.com/images/I/71GsLnoTz-L._SL1400_.jpg",rating:4.8},{id:13,title:"Moby Dick",author:"Herman Melville",imageUrl:"https://m.media-amazon.com/images/I/81MWn4aGHEL._SL1500_.jpg",rating:4.4},{id:14,title:"Norwegian Wood",author:"Haruki Murakami",imageUrl:"https://m.media-amazon.com/images/I/91yqulrtzsL._SL1500_.jpg",rating:4.3},{id:15,title:"On Earth We're Briefly Gorgeous",author:"Ocean Vuong",imageUrl:"https://m.media-amazon.com/images/I/81hIiFAl2EL._SL1500_.jpg",rating:4.4},{id:16,title:"Pride and Prejudice",author:"Jane Austen",imageUrl:"https://m.media-amazon.com/images/I/91bdi4YdErL._SL1500_.jpg",rating:4.8},{id:17,title:"The Introverted Leader ",author:"Jennifer Kahnweiler",imageUrl:"https://m.media-amazon.com/images/I/81KHi9SJscL._SL1500_.jpg",rating:4.5},{id:18,title:"Sapiens",author:"Yuval Noah Harari",imageUrl:"https://m.media-amazon.com/images/I/81tPEe0egBL._SL1500_.jpg",rating:4.7},{id:19,title:"The Alchemist",author:"Paulo Coelho",imageUrl:"https://m.media-amazon.com/images/I/91Ccq18dSuL._SL1500_.jpg",rating:4.7},{id:20,title:"Don’t Tell Me How to Die: A Novel",author:"Marshall Karp",imageUrl:"https://m.media-amazon.com/images/I/8107wumb6zL._SL1500_.jpg",rating:4.3},{id:21,title:"The Fault in Our Stars",author:"John Green",imageUrl:"https://m.media-amazon.com/images/I/81r9qAWEo4L._SL1500_.jpg",rating:4.7}],b={title:"The Alchemist",author:"Paulo Coelho",imageUrl:"https://images-na.ssl-images-amazon.com/images/I/71aFt4+OTOL.jpg",rating:4.7,description:"The Alchemist is a timeless tale about following one's dreams and listening to the heart. Paulo Coelho masterfully weaves a story of adventure, destiny, and self-discovery..."};function R(){const[a,t]=n.useState(!1);n.useEffect(()=>{setTimeout(()=>{t(!0)},100)},[]);const r={dots:!0,infinite:!0,speed:500,slidesToShow:4,slidesToScroll:1,responsive:[{breakpoint:1024,settings:{slidesToShow:3}},{breakpoint:768,settings:{slidesToShow:2}},{breakpoint:480,settings:{slidesToShow:1}}]};return a?e.jsx("div",{className:"home text-center text-light min-vh-100",style:{background:"linear-gradient(to bottom, var(--navy), var(--charcoal))"},children:e.jsxs("main",{className:"container py-5",children:[e.jsxs("section",{className:"py-4",children:[e.jsx("h1",{className:"display-4 header-font",children:"Explore new worlds"}),e.jsx("p",{className:"lead body-font",children:"From epic stories to self-improvement, there are audiobooks for everyone."}),e.jsx("div",{className:"row justify-content-center",children:["All Categories","Personal Growth","Love & Relationships","Mystery & Suspense","Fiction & Classics","Life Stories & Memoirs","Mind & Body Wellness","Fantasy & Sci-Fi Adventures","Faith & Philosophy","Entrepreneurship & Finance","World Events & Culture","Young Listeners"].map(o=>e.jsx("div",{className:"col-md-4 col-sm-6 mb-4 d-flex",children:e.jsx("div",{className:"card flex-fill p-4 rounded-4 shadow-sm text-center category-font",style:{backgroundColor:"var(--navy)",color:"var(--cream)",cursor:"pointer"},children:e.jsx("div",{className:"card-body d-flex align-items-center justify-content-center",children:e.jsx("span",{className:"card-title h5 m-0",children:o})})})},o))})]}),e.jsxs("section",{className:"my-5",children:[e.jsx("h2",{className:"text-uppercase fw-bold mb-4 header-font",children:"Book of the Week"}),e.jsxs("div",{className:"row align-items-center g-4 flex-lg-row flex-column-reverse",children:[e.jsx("div",{className:"col-lg-6 text-center",children:e.jsx("img",{src:b.imageUrl,alt:b.title,className:"img-fluid rounded shadow",style:{maxWidth:"400px"}})}),e.jsxs("div",{className:"col-lg-6 text-start body-font",style:{color:"var(--cream)"},children:[e.jsx("h3",{className:"fw-bold text-lg-start text-center",children:b.title}),e.jsxs("p",{className:"lead text-lg-start text-center",children:["By ",b.author]}),e.jsxs("p",{className:"lead text-lg-start text-center",children:["Rating: ",b.rating," ⭐"]}),e.jsx("p",{className:"mt-3 text-lg-start text-center",children:b.description})]})]})]}),e.jsxs("section",{className:"my-7",children:[e.jsx("h2",{className:"text-uppercase fw-bold mb-4 header-font",children:"Recommended Books"}),e.jsx(P,{...r,children:B.slice(1,10).map(o=>e.jsxs("div",{className:"book-slide p-3 text-center",children:[e.jsx("img",{src:o.imageUrl,alt:o.title,className:"img-fluid rounded shadow",style:{maxWidth:"150px",height:"auto"}}),e.jsx("h5",{className:"mt-3 header-font",children:o.title}),e.jsxs("p",{className:"body-font",children:["By: ",o.author]}),e.jsxs("p",{className:"small",children:["⭐ ",o.rating]})]},o.id))})]})]})}):e.jsx("div",{children:"Loading..."})}function I(a){const t=Math.floor(a),r=a%1>=.5?1:0,o=5-t-r;return e.jsxs(e.Fragment,{children:[Array(t).fill(null).map((s,l)=>e.jsx("i",{className:"bi bi-star-fill"},`full-${l}`)),r>0&&e.jsx("i",{className:"bi bi-star-half"},"half-1"),Array(o).fill(null).map((s,l)=>e.jsx("i",{className:"bi bi-star"},`empty-${l}`))]})}const z=({title:a,author:t,rating:r,image:o,onClick:s})=>e.jsxs("div",{className:"card bg-dark text-light",style:{width:"18rem",cursor:"pointer"},onClick:s,children:[e.jsx("img",{src:o,className:"card-img-top",alt:`${a} cover`}),e.jsxs("div",{className:"card-body",children:[e.jsx("h5",{className:"card-title text-truncate",style:{maxWidth:"100%"},title:a,children:a}),e.jsx("p",{className:"card-text",children:t}),e.jsx("div",{children:I(r)})]})]}),H=({show:a,onClose:t,book:r})=>!a||!r?null:e.jsxs(w,{show:a,onHide:t,centered:!0,children:[e.jsx(w.Header,{closeButton:!0,style:{backgroundColor:"#29465B"},children:e.jsx(w.Title,{style:{color:"var(--cream)"},children:r.title})}),e.jsxs(w.Body,{style:{backgroundColor:"#29465B",color:"var(--cream)"},children:[e.jsx("img",{src:r.image,alt:r.title,className:"img-fluid mb-3"}),e.jsx("h5",{style:{color:"var(--cream)"},children:r.author}),e.jsx("div",{children:I(r.rating)}),r.spotifyUrl?e.jsx("div",{className:"mt-3 text-center",children:e.jsx("iframe",{src:r.spotifyUrl.replace("open.spotify.com/","open.spotify.com/embed/"),width:"100%",height:"100",frameBorder:"0",allow:"encrypted-media"})}):e.jsx("p",{className:"mt-3",style:{color:"var(--cream)"},children:"No preview available."})]})]}),D=()=>{const[a,t]=n.useState(""),[r,o]=n.useState([]),[s,l]=n.useState(null),[u,d]=n.useState(!1),g=async()=>{if(a.trim())try{const i=await v.get(`http://localhost:5000/api/books?query=${encodeURIComponent(a)}`);console.log("API full response:",i.data),o(Array.isArray(i.data)?i.data:[])}catch(i){console.error("API call error:",i),o([])}},h=i=>{i.key==="Enter"&&g()};return e.jsxs("div",{className:"container my-4",children:[e.jsx("div",{className:"input-group mb-3",children:e.jsx("input",{type:"text",className:"form-control",placeholder:"Search for audiobooks",value:a,onChange:i=>t(i.target.value),onKeyDown:h,style:{backgroundColor:"var(--cream)",color:"black",border:"1px solid var(--charcoal)",padding:"10px"}})}),e.jsx("div",{className:"row",children:Array.isArray(r)&&r.length>0?r.map(i=>e.jsx("div",{className:"col-md-4 mb-3",children:e.jsx(z,{title:i.title,author:i.author,rating:i.rating,image:i.image,onClick:()=>{l(i),d(!0)}})},i.id)):e.jsx("p",{})}),s&&e.jsx(H,{show:u,onClose:()=>d(!1),book:s})]})},T=async({email:a,password:t,subscribe:r,sshPublicKey:o})=>{try{const s=await v.post("http://localhost:5000/api/login",{email:a,password:t,sshPublicKey:o});if(console.log("Login response:",s.data),s.data.message==="Login successful"){if(r){const l=await v.post("http://localhost:5000/api/subscribe",{email:a});console.log("Subscribe response:",l.data)}}else console.error("Login failed:",s.data.message);return s}catch(s){throw console.error("Error logging in:",s),s}},K=async a=>{try{return await v.post("http://localhost:5000/api/registerUser",a)}catch(t){throw console.error("Error registering user:",t),t}},O=()=>new Promise((a,t)=>{A.generateKeyPair("rsa",{modulusLength:2048,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},(r,o,s)=>{r?t(r):a({publicKey:o,privateKey:s})})}),W=({onClose:a})=>{const[t,r]=n.useState(!1),[o,s]=n.useState(null),[l,u]=n.useState(0),[d,g]=n.useState(!1),[h,i]=n.useState(!1),x={username:"",email:"",password:"",subscribe:!1},[c,j]=n.useState(x),p=async m=>{m.preventDefault();try{let f=null;if(h){const{publicKey:y}=await O();f=y}if(t){const y=await K({username:c.username,email:c.email,password:c.password,resetPassword:d,sshPublicKey:f});y.data.exists&&d?s("Password reset link sent to your email."):y.data.exists?s("Email already exists. Would you like to reset your password?"):a()}else(await T({email:c.email,password:c.password,subscribe:c.subscribe,sshPublicKey:f})).data.message==="Login successful"?a():(s("Credentials Mismatch. Please try again or register an account."),u(E=>E+1),l>=2&&r(!0))}catch{s("An error occurred during login. Please try again.")}},S=(m,f)=>{j({...c,[m]:f})};return e.jsx("div",{className:"modal show d-block",tabIndex:-1,style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},children:e.jsx("div",{className:"modal-dialog modal-dialog-centered",children:e.jsxs("div",{className:"modal-content",children:[e.jsx("div",{className:"modal-header",children:e.jsx("h5",{className:"modal-title",children:t?"Register":"Login"})}),e.jsxs("div",{className:"modal-body",children:[o&&e.jsx("div",{className:"alert alert-danger",children:o}),e.jsxs("form",{onSubmit:p,children:[t&&e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"username",className:"form-label",children:"Username:"}),e.jsx("input",{type:"text",id:"username",value:c.username,name:"username",className:"form-control",required:!0,onChange:m=>S(m.target.name,m.target.value)})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"email",className:"form-label",children:"Email:"}),e.jsx("input",{type:"email",id:"email",value:c.email,name:"email",className:"form-control",required:!0,onChange:m=>S(m.target.name,m.target.value)})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"password",className:"form-label",children:"Password:"}),e.jsx("input",{type:"password",id:"password",value:c.password,name:"password",className:"form-control",required:!0,onChange:m=>S(m.target.name,m.target.value)})]}),!t&&e.jsxs("div",{className:"mb-3 form-check",children:[e.jsx("input",{type:"checkbox",className:"form-check-input",id:"subscribe",checked:c.subscribe,name:"subscribe",onChange:m=>S(m.target.name,m.target.checked)}),e.jsx("label",{className:"form-check-label",htmlFor:"subscribe",children:"Subscribe to newsletter"})]}),t&&e.jsxs("div",{className:"mb-3 form-check",children:[e.jsx("input",{type:"checkbox",className:"form-check-input",id:"resetPassword",checked:d,name:"resetPassword",onChange:m=>g(m.target.checked)}),e.jsx("label",{className:"form-check-label",htmlFor:"resetPassword",children:"Send password reset link if email exists"})]}),e.jsxs("div",{className:"mb-3 form-check",children:[e.jsx("input",{type:"checkbox",className:"form-check-input",id:"generateSSHKey",checked:h,name:"generateSSHKey",onChange:m=>i(m.target.checked)}),e.jsx("label",{className:"form-check-label",htmlFor:"generateSSHKey",children:"Generate and Register an SSH key on your device to automatically login next time."})]}),e.jsx("button",{type:"submit",className:"btn btn-primary w-100",children:t?"Register":"Login"})]})]}),e.jsx("div",{className:"modal-footer",children:e.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>r(!t),children:t?"Switch to Login":"Switch to Register"})})]})})})},q=()=>{const[a,t]=n.useState(localStorage.getItem("name")||"John Doe"),[r]=n.useState("your-email@example.com"),[o,s]=n.useState(localStorage.getItem("subscribed")==="true"),[l,u]=n.useState(localStorage.getItem("playbackSpeed")||"Normal"),[d,g]=n.useState(localStorage.getItem("theme")||"Dark Mode"),[h,i]=n.useState(localStorage.getItem("subscription")||"None"),[x,c]=n.useState(!1);n.useEffect(()=>{localStorage.setItem("name",a),localStorage.setItem("subscribed",o.toString()),localStorage.setItem("playbackSpeed",l),localStorage.setItem("theme",d),localStorage.setItem("subscription",h)},[a,o,l,d,h]),n.useEffect(()=>{document.documentElement.style.setProperty("--background",d==="Dark Mode"?"var(--navy)":"var(--cream)"),document.documentElement.style.setProperty("--text-color",d==="Dark Mode"?"white":"var(--charcoal)")},[d]);const j=()=>{(!o||window.confirm("Are you sure you want to unsubscribe from the email list?"))&&s(!o)};return e.jsx("div",{className:"container-fluid d-flex flex-column align-items-center",style:{backgroundColor:"var(--background)",color:"var(--text-color)",minHeight:"100vh",padding:"50px 0"},children:e.jsxs("div",{className:"w-75",children:[e.jsx("h2",{className:"mb-4 text-center",children:"Settings"}),e.jsxs("div",{className:"mb-4 d-flex align-items-center",children:[e.jsx("h5",{className:"mb-1 me-2",children:"Your Name:"}),x?e.jsx("input",{type:"text",className:"form-control w-50",value:a,onChange:p=>t(p.target.value),onBlur:()=>c(!1),autoFocus:!0}):e.jsx("span",{style:{fontSize:"1.2rem"},children:a}),e.jsx("button",{className:"btn btn-outline-light ms-2",onClick:()=>c(!0),children:e.jsx(M,{})})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h5",{className:"mb-1",children:"Your Email:"}),e.jsx("p",{style:{fontSize:"1.2rem"},children:r})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h5",{className:"mb-2",children:"Email Preferences"}),e.jsxs("div",{className:"form-check",children:[e.jsx("input",{type:"checkbox",className:"form-check-input",id:"emailSubscription",checked:o,onChange:j}),e.jsx("label",{className:"form-check-label",htmlFor:"emailSubscription",children:"Subscribe to Email List"})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h5",{className:"mb-2",children:"Playback Speed"}),e.jsxs("select",{className:"form-select",value:l,onChange:p=>u(p.target.value),children:[e.jsx("option",{children:"Slow"}),e.jsx("option",{children:"Normal"}),e.jsx("option",{children:"Fast"})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h5",{className:"mb-2",children:"Theme"}),e.jsxs("select",{className:"form-select",value:d,onChange:p=>g(p.target.value),children:[e.jsx("option",{children:"Dark Mode"}),e.jsx("option",{children:"Light Mode"})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h5",{className:"mb-2",children:"Subscription Plan"}),e.jsxs("div",{className:"d-flex gap-3",children:[e.jsxs("div",{className:`p-3 border rounded text-center w-50 ${h==="Basic"?"bg-primary text-white":"bg-light text-dark"}`,style:{cursor:"pointer"},onClick:()=>i("Basic"),children:[e.jsx("h6",{children:"Basic"}),e.jsx("p",{children:"$2.99/month"})]}),e.jsxs("div",{className:`p-3 border rounded text-center w-50 ${h==="Premium"?"bg-primary text-white":"bg-light text-dark"}`,style:{cursor:"pointer"},onClick:()=>i("Premium"),children:[e.jsx("h6",{children:"Premium"}),e.jsx("p",{children:"$5.00/month"})]})]}),h!=="None"&&e.jsx("button",{className:"btn btn-success w-100 mt-3",children:"Checkout"})]}),e.jsx("button",{className:"btn w-100 mb-3",style:{backgroundColor:"var(--burnt-orange)",color:"white"},children:"Delete Account"}),e.jsx("button",{className:"btn btn-secondary w-100",children:"Logout"})]})})},G=()=>{const[a,t]=n.useState([]),[r,o]=n.useState(""),s=n.useRef(null),l="https://api.deepseek.com/chat/completions",u="deepseek-chat",d="sk-8be96cc5cd4c41c19aaecc522601c55d";n.useEffect(()=>{var i;(i=s.current)==null||i.scrollIntoView({behavior:"smooth"})},[a]);const g=async()=>{if(r.trim()==="")return;const i={sender:"user",text:r};t(c=>[...c,i]),o("");const x="You are a helpful audiobook assistant. Please assist the user in finding books, suggesting audiobooks, and answering any questions about audiobooks. Also, for any questions unrelated to audiobooks say 'Sorry, that is out of my reach.'";try{const j=(await v.post(l,{model:u,messages:[{role:"system",content:x},{role:"user",content:r}]},{headers:{"Content-Type":"application/json",Authorization:`Bearer ${d}`}})).data.choices[0].message.content;t(p=>[...p,{sender:"ai",text:j}])}catch(c){console.error("Error communicating with DeepSeek API:",c),t(j=>[...j,{sender:"ai",text:"Sorry, something went wrong."}])}},h=i=>{i.key==="Enter"&&(i.preventDefault(),g())};return e.jsxs("div",{className:"ai-container d-flex flex-column ai-font",children:[e.jsx("header",{className:"text-light py-3 text-center menu-font",children:e.jsx("h2",{className:"fw-bold",children:"Audiophile AI"})}),e.jsxs("div",{className:"chat-box flex-grow-1 p-3",children:[a.map((i,x)=>e.jsx("div",{className:`message ${i.sender==="user"?"user-message":"ai-message"}`,children:e.jsx("div",{className:"message-bubble",children:i.text})},x)),e.jsx("div",{ref:s})]}),e.jsx("div",{className:"chat-input bg-dark p-3",children:e.jsx("input",{type:"text",className:"form-control",placeholder:"Type your message...",value:r,onChange:i=>o(i.target.value),onKeyDown:h,style:{backgroundColor:"var(--cream)",color:"black",border:"1px solid var(--charcoal)",borderRadius:"20px",padding:"12px"}})})]})},Y="/assets/logo-DTwUq7jc.png",$=()=>{const[a,t]=n.useState(!1);return e.jsxs("header",{className:"d-flex justify-content-between align-items-center py-3 px-4 shadow-sm",style:{backgroundColor:"var(--navy)",color:"var(--cream)",fontFamily:"Sublima",fontSize:"115%"},children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("img",{src:Y,alt:"Logo",style:{width:"auto",height:"100px",marginRight:"10px"}}),e.jsx(N,{to:"/",className:"text-decoration-none fs-3 fw-bold",style:{color:"var(--cream)",fontFamily:"Sublima"},children:"audiophile"})]}),e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx(N,{to:"/Ai",className:"text-decoration-none fs-3 mx-3",style:{color:"var(--cream)"},children:e.jsx("i",{className:"bi bi-robot"})}),e.jsxs("div",{className:"dropdown",onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1),style:{position:"relative"},children:[e.jsxs("button",{className:"btn dropdown-toggle",style:{color:"var(--cream)",fontFamily:"Sublima"},children:["Menu ",e.jsx("i",{className:"bi bi-list"})]}),e.jsxs("ul",{className:`dropdown-menu${a?" show":""}`,style:{backgroundColor:"var(--cream)",color:"var(--navy)",boxShadow:"0px 4px 10px rgba(0, 0, 0, 0.2)",right:0},children:[e.jsx("li",{children:e.jsx(N,{to:"/",className:"dropdown-item",style:{fontFamily:"Sublima"},children:"Home"})}),e.jsx("li",{children:e.jsx(N,{to:"/catalog",className:"dropdown-item",style:{fontFamily:"Sublima"},children:"Catalog"})}),e.jsx("li",{children:e.jsx(N,{to:"/settings",className:"dropdown-item",style:{fontFamily:"Sublima"},children:"Settings"})})]})]})]})]})},J=()=>e.jsx("footer",{className:"bg-dark text-white text-center py-3 mt-auto w-100",children:e.jsx("p",{className:"mb-0",children:"© 2025 Audiobook App. All rights reserved."})}),V=()=>{const[a,t]=n.useState(!0);return e.jsx("div",{className:"d-flex flex-column min-vh-100",style:{background:"linear-gradient(to bottom, var(--navy), var(--charcoal))"},children:e.jsxs(F,{children:[a&&e.jsx(W,{onClose:()=>t(!1)}),!a&&e.jsxs(e.Fragment,{children:[e.jsx($,{}),e.jsx("main",{className:"container-fluid flex-grow-1 p-0",children:e.jsxs(U,{children:[e.jsx(k,{path:"/",element:e.jsx(R,{})}),e.jsx(k,{path:"/catalog",element:e.jsx(D,{})}),e.jsx(k,{path:"/settings",element:e.jsx(q,{})}),e.jsx(k,{path:"/ai",element:e.jsx(G,{})})]})}),e.jsx(J,{})]})]})})},L=document.getElementById("root");L&&_.createRoot(L).render(e.jsx(C.StrictMode,{children:e.jsx(V,{})}));
