import{r as w}from"./inherits-BICa84dG.js";import{r as m}from"./safe-buffer-BaiuebXe.js";import{r as B}from"./readable-stream-BBacRc_d.js";var p,k;function E(){if(k)return p;k=1;var l=m().Buffer,d=B().Transform,u=w();function b(a,s){if(!l.isBuffer(a)&&typeof a!="string")throw new TypeError(s+" must be a string or a buffer")}function x(a){d.call(this),this._block=l.allocUnsafe(a),this._blockSize=a,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}return u(x,d),x.prototype._transform=function(a,s,h){var o=null;try{this.update(a,s)}catch(c){o=c}h(o)},x.prototype._flush=function(a){var s=null;try{this.push(this.digest())}catch(h){s=h}a(s)},x.prototype.update=function(a,s){if(b(a,"Data"),this._finalized)throw new Error("Digest already called");l.isBuffer(a)||(a=l.from(a,s));for(var h=this._block,o=0;this._blockOffset+a.length-o>=this._blockSize;){for(var c=this._blockOffset;c<this._blockSize;)h[c++]=a[o++];this._update(),this._blockOffset=0}for(;o<a.length;)h[this._blockOffset++]=a[o++];for(var i=0,n=a.length*8;n>0;++i)this._length[i]+=n,n=this._length[i]/4294967296|0,n>0&&(this._length[i]-=4294967296*n);return this},x.prototype._update=function(){throw new Error("_update is not implemented")},x.prototype.digest=function(a){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var s=this._digest();a!==void 0&&(s=s.toString(a)),this._block.fill(0),this._blockOffset=0;for(var h=0;h<4;++h)this._length[h]=0;return s},x.prototype._digest=function(){throw new Error("_digest is not implemented")},p=x,p}var v,g;function q(){if(g)return v;g=1;var l=w(),d=E(),u=m().Buffer,b=new Array(16);function x(){d.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}l(x,d),x.prototype._update=function(){for(var i=b,n=0;n<16;++n)i[n]=this._block.readInt32LE(n*4);var e=this._a,t=this._b,r=this._c,f=this._d;e=s(e,t,r,f,i[0],3614090360,7),f=s(f,e,t,r,i[1],3905402710,12),r=s(r,f,e,t,i[2],606105819,17),t=s(t,r,f,e,i[3],3250441966,22),e=s(e,t,r,f,i[4],4118548399,7),f=s(f,e,t,r,i[5],1200080426,12),r=s(r,f,e,t,i[6],2821735955,17),t=s(t,r,f,e,i[7],4249261313,22),e=s(e,t,r,f,i[8],1770035416,7),f=s(f,e,t,r,i[9],2336552879,12),r=s(r,f,e,t,i[10],4294925233,17),t=s(t,r,f,e,i[11],2304563134,22),e=s(e,t,r,f,i[12],1804603682,7),f=s(f,e,t,r,i[13],4254626195,12),r=s(r,f,e,t,i[14],2792965006,17),t=s(t,r,f,e,i[15],1236535329,22),e=h(e,t,r,f,i[1],4129170786,5),f=h(f,e,t,r,i[6],3225465664,9),r=h(r,f,e,t,i[11],643717713,14),t=h(t,r,f,e,i[0],3921069994,20),e=h(e,t,r,f,i[5],3593408605,5),f=h(f,e,t,r,i[10],38016083,9),r=h(r,f,e,t,i[15],3634488961,14),t=h(t,r,f,e,i[4],3889429448,20),e=h(e,t,r,f,i[9],568446438,5),f=h(f,e,t,r,i[14],3275163606,9),r=h(r,f,e,t,i[3],4107603335,14),t=h(t,r,f,e,i[8],1163531501,20),e=h(e,t,r,f,i[13],2850285829,5),f=h(f,e,t,r,i[2],4243563512,9),r=h(r,f,e,t,i[7],1735328473,14),t=h(t,r,f,e,i[12],2368359562,20),e=o(e,t,r,f,i[5],4294588738,4),f=o(f,e,t,r,i[8],2272392833,11),r=o(r,f,e,t,i[11],1839030562,16),t=o(t,r,f,e,i[14],4259657740,23),e=o(e,t,r,f,i[1],2763975236,4),f=o(f,e,t,r,i[4],1272893353,11),r=o(r,f,e,t,i[7],4139469664,16),t=o(t,r,f,e,i[10],3200236656,23),e=o(e,t,r,f,i[13],681279174,4),f=o(f,e,t,r,i[0],3936430074,11),r=o(r,f,e,t,i[3],3572445317,16),t=o(t,r,f,e,i[6],76029189,23),e=o(e,t,r,f,i[9],3654602809,4),f=o(f,e,t,r,i[12],3873151461,11),r=o(r,f,e,t,i[15],530742520,16),t=o(t,r,f,e,i[2],3299628645,23),e=c(e,t,r,f,i[0],4096336452,6),f=c(f,e,t,r,i[7],1126891415,10),r=c(r,f,e,t,i[14],2878612391,15),t=c(t,r,f,e,i[5],4237533241,21),e=c(e,t,r,f,i[12],1700485571,6),f=c(f,e,t,r,i[3],2399980690,10),r=c(r,f,e,t,i[10],4293915773,15),t=c(t,r,f,e,i[1],2240044497,21),e=c(e,t,r,f,i[8],1873313359,6),f=c(f,e,t,r,i[15],4264355552,10),r=c(r,f,e,t,i[6],2734768916,15),t=c(t,r,f,e,i[13],1309151649,21),e=c(e,t,r,f,i[4],4149444226,6),f=c(f,e,t,r,i[11],3174756917,10),r=c(r,f,e,t,i[2],718787259,15),t=c(t,r,f,e,i[9],3951481745,21),this._a=this._a+e|0,this._b=this._b+t|0,this._c=this._c+r|0,this._d=this._d+f|0},x.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var i=u.allocUnsafe(16);return i.writeInt32LE(this._a,0),i.writeInt32LE(this._b,4),i.writeInt32LE(this._c,8),i.writeInt32LE(this._d,12),i};function a(i,n){return i<<n|i>>>32-n}function s(i,n,e,t,r,f,_){return a(i+(n&e|~n&t)+r+f|0,_)+n|0}function h(i,n,e,t,r,f,_){return a(i+(n&t|e&~t)+r+f|0,_)+n|0}function o(i,n,e,t,r,f,_){return a(i+(n^e^t)+r+f|0,_)+n|0}function c(i,n,e,t,r,f,_){return a(i+(e^(n|~t))+r+f|0,_)+n|0}return v=x,v}export{q as r};
